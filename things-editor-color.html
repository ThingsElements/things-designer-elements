<link rel="import" href="../polymer/polymer.html">

<!--
색상을 입력하는데 사용되는 입력 컴포넌트이다.
화면상에는 두개의 입력 필드가 보이며, 하나는 색상값을 키보드로 직접 입력하는 입력 픽드이며,
다른 하나는 마우스로 클릭하여 컬러 파레트를 팝업 시키는 입력 필드이다.
컬러 파레트를 팝업시키는 입력필드는 현재 입력된 색상으로 표시된다.

색상값을 직접 입력하는 필드에서는 'white', 'red', 'yellow' 등 색상의미 단어를 사용할 수도 있고,
#fff, #123456 와 같이 스타일에서 지정하는 방식의 3자리 및 6자리 숫자 표현도 가능하다.
컬러 파레트를 팝업시키는 입력 필드에서 색상을 지정하게되면, 모두 6자리 숫자 표현방식만을 사용한다.

의미 단어를 지원하는 색상은 다음과 같다.

aliceblue : #f0f8ff<br>
antiquewhite : #faebd7<br>
aqua : #00ffff<br>
aquamarine : #7fffd4<br>
azure : #f0ffff<br>
beige : #f5f5dc<br>
bisque : #ffe4c4<br>
black : #000000<br>
blanchedalmond : #ffebcd<br>
blue : #0000ff<br>
blueviolet : #8a2be2<br>
brown : #a52a2a<br>
burlywood : #deb887<br>
cadetblue : #5f9ea0<br>
chartreuse : #7fff00<br>
chocolate : #d2691e<br>
coral : #ff7f50<br>
cornflowerblue : #6495ed<br>
cornsilk : #fff8dc<br>
crimson : #dc143c<br>
cyan : #00ffff<br>
darkblue : #00008b<br>
darkcyan : #008b8b<br>
darkgoldenrod : #b8860b<br>
darkgray : #a9a9a9<br>
darkgreen : #006400<br>
darkkhaki : #bdb76b<br>
darkmagenta : #8b008b<br>
darkolivegreen : #556b2f<br>
darkorange : #ff8c00<br>
darkorchid : #9932cc<br>
darkred : #8b0000<br>
darksalmon : #e9967a<br>
darkseagreen : #8fbc8f<br>
darkslateblue : #483d8b<br>
darkslategray : #2f4f4f<br>
darkturquoise : #00ced1<br>
darkviolet : #9400d3<br>
deeppink : #ff1493<br>
deepskyblue : #00bfff<br>
dimgray : #696969<br>
dodgerblue : #1e90ff<br>
firebrick : #b22222<br>
floralwhite : #fffaf0<br>
forestgreen : #228b22<br>
fuchsia : #ff00ff<br>
gainsboro : #dcdcdc<br>
ghostwhite : #f8f8ff<br>
gold : #ffd700<br>
goldenrod : #daa520<br>
gray : #808080<br>
green : #008000<br>
greenyellow : #adff2f<br>
honeydew : #f0fff0<br>
hotpink : #ff69b4<br>
indianred  : #cd5c5c<br>
indigo : #4b0082<br>
ivory : #fffff0<br>
khaki : #f0e68c<br>
lavender : #e6e6fa<br>
lavenderblush : #fff0f5<br>
lawngreen : #7cfc00<br>
lemonchiffon : #fffacd<br>
lightblue : #add8e6<br>
lightcoral : #f08080<br>
lightcyan : #e0ffff<br>
lightgoldenrodyellow : #fafad2<br>
lightgrey : #d3d3d3<br>
lightgreen : #90ee90<br>
lightpink : #ffb6c1<br>
lightsalmon : #ffa07a<br>
lightseagreen : #20b2aa<br>
lightskyblue : #87cefa<br>
lightslategray : #778899<br>
lightsteelblue : #b0c4de<br>
lightyellow : #ffffe0<br>
lime : #00ff00<br>
limegreen : #32cd32<br>
linen : #faf0e6<br>
magenta : #ff00ff<br>
maroon : #800000<br>
mediumaquamarine : #66cdaa<br>
mediumblue : #0000cd<br>
mediumorchid : #ba55d3<br>
mediumpurple : #9370d8<br>
mediumseagreen : #3cb371<br>
mediumslateblue : #7b68ee<br>
mediumspringgreen : #00fa9a<br>
mediumturquoise : #48d1cc<br>
mediumvioletred : #c71585<br>
midnightblue : #191970<br>
mintcream : #f5fffa<br>
mistyrose : #ffe4e1<br>
moccasin : #ffe4b5<br>
navajowhite : #ffdead<br>
navy : #000080<br>
oldlace : #fdf5e6<br>
olive : #808000<br>
olivedrab : #6b8e23<br>
orange : #ffa500<br>
orangered : #ff4500<br>
orchid : #da70d6<br>
palegoldenrod : #eee8aa<br>
palegreen : #98fb98<br>
paleturquoise : #afeeee<br>
palevioletred : #d87093<br>
papayawhip : #ffefd5<br>
peachpuff : #ffdab9<br>
peru : #cd853f<br>
pink : #ffc0cb<br>
plum : #dda0dd<br>
powderblue : #b0e0e6<br>
purple : #800080<br>
red : #ff0000<br>
rosybrown : #bc8f8f<br>
royalblue : #4169e1<br>
saddlebrown : #8b4513<br>
salmon : #fa8072<br>
sandybrown : #f4a460<br>
seagreen : #2e8b57<br>
seashell : #fff5ee<br>
sienna : #a0522d<br>
silver : #c0c0c0<br>
skyblue : #87ceeb<br>
slateblue : #6a5acd<br>
slategray : #708090<br>
snow : #fffafa<br>
springgreen : #00ff7f<br>
steelblue : #4682b4<br>
tan : #d2b48c<br>
teal : #008080<br>
thistle : #d8bfd8<br>
tomato : #ff6347<br>
turquoise : #40e0d0<br>
violet : #ee82ee<br>
wheat : #f5deb3<br>
white : #ffffff<br>
whitesmoke : #f5f5f5<br>
yellow : #ffff00<br>
yellowgreen : #9acd32<br>

Example:

    <things-editor-color value="{{color}}">
    </things-editor-color>

@demo demo/index-editor-color.html
@hero hero.svg
-->

<dom-module id="things-editor-color">
  <template>
    <style>
      :host {
        @apply(--things-editor-color)
      }
      input[type=text] {
        @apply(--things-editor-color-input-text)
      }
      input[type=color] {
        @apply(--things-editor-color-input-color)
      }
    </style>

    <input id="text" type="text">
    <input id="color" type="color">

  </template>

  <script>

    var _colours = {
      "aliceblue":"#f0f8ff",
      "antiquewhite":"#faebd7",
      "aqua":"#00ffff",
      "aquamarine":"#7fffd4",
      "azure":"#f0ffff",
      "beige":"#f5f5dc",
      "bisque":"#ffe4c4",
      "black":"#000000",
      "blanchedalmond":"#ffebcd",
      "blue":"#0000ff",
      "blueviolet":"#8a2be2",
      "brown":"#a52a2a",
      "burlywood":"#deb887",
      "cadetblue":"#5f9ea0",
      "chartreuse":"#7fff00",
      "chocolate":"#d2691e",
      "coral":"#ff7f50",
      "cornflowerblue":"#6495ed",
      "cornsilk":"#fff8dc",
      "crimson":"#dc143c",
      "cyan":"#00ffff",
      "darkblue":"#00008b",
      "darkcyan":"#008b8b",
      "darkgoldenrod":"#b8860b",
      "darkgray":"#a9a9a9",
      "darkgreen":"#006400",
      "darkkhaki":"#bdb76b",
      "darkmagenta":"#8b008b",
      "darkolivegreen":"#556b2f",
      "darkorange":"#ff8c00",
      "darkorchid":"#9932cc",
      "darkred":"#8b0000",
      "darksalmon":"#e9967a",
      "darkseagreen":"#8fbc8f",
      "darkslateblue":"#483d8b",
      "darkslategray":"#2f4f4f",
      "darkturquoise":"#00ced1",
      "darkviolet":"#9400d3",
      "deeppink":"#ff1493",
      "deepskyblue":"#00bfff",
      "dimgray":"#696969",
      "dodgerblue":"#1e90ff",
      "firebrick":"#b22222",
      "floralwhite":"#fffaf0",
      "forestgreen":"#228b22",
      "fuchsia":"#ff00ff",
      "gainsboro":"#dcdcdc",
      "ghostwhite":"#f8f8ff",
      "gold":"#ffd700",
      "goldenrod":"#daa520",
      "gray":"#808080",
      "green":"#008000",
      "greenyellow":"#adff2f",
      "honeydew":"#f0fff0",
      "hotpink":"#ff69b4",
      "indianred ":"#cd5c5c",
      "indigo":"#4b0082",
      "ivory":"#fffff0",
      "khaki":"#f0e68c",
      "lavender":"#e6e6fa",
      "lavenderblush":"#fff0f5",
      "lawngreen":"#7cfc00",
      "lemonchiffon":"#fffacd",
      "lightblue":"#add8e6",
      "lightcoral":"#f08080",
      "lightcyan":"#e0ffff",
      "lightgoldenrodyellow":"#fafad2",
      "lightgrey":"#d3d3d3",
      "lightgreen":"#90ee90",
      "lightpink":"#ffb6c1",
      "lightsalmon":"#ffa07a",
      "lightseagreen":"#20b2aa",
      "lightskyblue":"#87cefa",
      "lightslategray":"#778899",
      "lightsteelblue":"#b0c4de",
      "lightyellow":"#ffffe0",
      "lime":"#00ff00",
      "limegreen":"#32cd32",
      "linen":"#faf0e6",
      "magenta":"#ff00ff",
      "maroon":"#800000",
      "mediumaquamarine":"#66cdaa",
      "mediumblue":"#0000cd",
      "mediumorchid":"#ba55d3",
      "mediumpurple":"#9370d8",
      "mediumseagreen":"#3cb371",
      "mediumslateblue":"#7b68ee",
      "mediumspringgreen":"#00fa9a",
      "mediumturquoise":"#48d1cc",
      "mediumvioletred":"#c71585",
      "midnightblue":"#191970",
      "mintcream":"#f5fffa",
      "mistyrose":"#ffe4e1",
      "moccasin":"#ffe4b5",
      "navajowhite":"#ffdead",
      "navy":"#000080",
      "oldlace":"#fdf5e6",
      "olive":"#808000",
      "olivedrab":"#6b8e23",
      "orange":"#ffa500",
      "orangered":"#ff4500",
      "orchid":"#da70d6",
      "palegoldenrod":"#eee8aa",
      "palegreen":"#98fb98",
      "paleturquoise":"#afeeee",
      "palevioletred":"#d87093",
      "papayawhip":"#ffefd5",
      "peachpuff":"#ffdab9",
      "peru":"#cd853f",
      "pink":"#ffc0cb",
      "plum":"#dda0dd",
      "powderblue":"#b0e0e6",
      "purple":"#800080",
      "red":"#ff0000",
      "rosybrown":"#bc8f8f",
      "royalblue":"#4169e1",
      "saddlebrown":"#8b4513",
      "salmon":"#fa8072",
      "sandybrown":"#f4a460",
      "seagreen":"#2e8b57",
      "seashell":"#fff5ee",
      "sienna":"#a0522d",
      "silver":"#c0c0c0",
      "skyblue":"#87ceeb",
      "slateblue":"#6a5acd",
      "slategray":"#708090",
      "snow":"#fffafa",
      "springgreen":"#00ff7f",
      "steelblue":"#4682b4",
      "tan":"#d2b48c",
      "teal":"#008080",
      "thistle":"#d8bfd8",
      "tomato":"#ff6347",
      "turquoise":"#40e0d0",
      "violet":"#ee82ee",
      "wheat":"#f5deb3",
      "white":"#ffffff",
      "whitesmoke":"#f5f5f5",
      "yellow":"#ffff00",
      "yellowgreen":"#9acd32"
    };

    (function() {
      'use strict';

      Polymer({
        is: 'things-editor-color',

        properties: {
          value: {
            type: String,
            notify: true,
            observer: '_onValueChanged'
          }
        },

        listeners: {
          'change': '_onInputChanged'
        },

        _convert3to6: function(sharp3) {
          var r = sharp3.charAt(1)
          var g = sharp3.charAt(2)
          var b = sharp3.charAt(3)
          return `#${r}${r}${g}${g}${b}${b}`
        },

        _onValueChanged: function() {
          this.$.text.value = this.value || ''

          if(this.value === undefined || !this.value) {
            this.$.color.value = '#000000'
          } else if(/^#[0-9a-f]{6}/i.test(this.value)) {
            this.$.color.value = this.value
          } else if(/^#[0-9a-f]{3}/i.test(this.value)) {
            this.$.color.value = this._convert3to6(this.value)
          } else {
            this.$.color.value = _colours[this.value.toLowerCase()] || this.value
          }
        },

        _onInputChanged: function(e) {
          this.set('value', e.target.value)
        },

        showPicker: function() {
          this.$.color.click()
        }

      })

    })();

  </script>
</dom-module>
